<div style="padding-top: 15px; padding-bottom: 15px; padding-left: 15px;">
    <div class="container-fluid">
        <div class="card card-body bg-light">
            <div id="NavbarHouser">
                <nav class="navbar navbar-expand-sm navbar-dark bg-primary" style="  background-image: linear-gradient(to bottom right, red, yellow);        ">
                    <a class="navbar-brand"> {{GroupName}}</a>
                    <div class="collapse navbar-collapse" id="navbarText">
                    <ul class="navbar-nav mr-auto">

                        <li class="nav-item">
                            <a class="nav-link" type='button' (click)="AcceptedParticipants()">Members</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" type='button' (click)="PendingParticipants()">Pending</a>
                        </li>

                        <li class="nav-item">
                        <a class="nav-link" type='button' (click)="addGroupBill()">Add Bill</a>
                        </li>

                        
                        
                    </ul>

                    <span class="navbar-text" *ngIf="Username == Admin">
                        <span type="button" title="Exit the group" class="fa fa-sign-out fa-lg" aria-hidden="true" style="color: whitesmoke;" data-toggle="modal" data-target="#ExitGroupAdmin"></span>&nbsp;
                        <span type="button" title="Make others Admin" class="fa fa-level-up fa-lg" aria-hidden="true" style="color:chartreuse;" data-toggle="modal" data-target="#MakeGroupAdmin"></span>&nbsp;
                        <span type="button" title="Add users to group" class="fa fa-user-plus fa-lg" aria-hidden="true" style="color: black;" data-toggle="modal" data-target="#AddPeopleToGroupAdmin"></span>&nbsp;
                        <span type="button" title="Delete Users From Group" class="fa fa-user-times fa-lg" aria-hidden="true" style="color: grey;" data-toggle="modal" data-target="#DeletePeopleFromGroupAdmin"></span>&nbsp;
                        <span type="button" title="Delete the Group" class="fa fa-trash fa-lg" aria-hidden="true" style="color: red;" data-toggle="modal" data-target="#DeleteGroupAdmin"></span>&nbsp;
                    </span>

                    <span class="navbar-text" *ngIf="Username != Admin">
                        <span type="button" title="Exit the group" class="fa fa-sign-out fa-lg" aria-hidden="true" style="color:whitesmoke;" data-toggle="modal" data-target="#ExitGroupNotAdmin"></span>&nbsp;
                    </span>

                    </div>
                </nav>
            </div>
            <p>Well</p>

       </div>
    </div>
</div>





<!-- Modal For Exiting Group when not an admin -->
<div class="modal fade" id="ExitGroupNotAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Exit Group? </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p style="font-size: larger; color: red;">Are you sure you want to leave the group?</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="ExitGroupNonAdmin()">Yes!</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal For Exiting Group when an admin-->
<div class="modal fade" id="ExitGroupAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Exit Group? </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body" *ngIf="Participants.length >=2">
          <p style="font-size: larger; color: red;">Make Someone else admin before leaving the group</p>
          <div class="form-group row">
            <div class="col-sm-2">
              <label for="staticEmail" class="col-form-label">Members:</label>
            </div>
            <div class="col-sm-9">
              <select class="custom-select" id="Admin" required [(ngModel)]="NEXTADMIN" name="Adm" aria-describedby="basic-addon4">
                <option value="" disabled>Choose the Next Admin..</option>
                <option *ngFor="let Friend of Participants;" value="{{Friend}}">{{Friend}}</option>
             </select>
            </div>
          </div>
          <p style="font-size: larger; color: red;" *ngIf="!(NEXTADMIN == '' || NEXTADMIN== Username)">Are You sure you want to exit the Group?</p>
        </div>

        <div class="modal-body" *ngIf="Participants.length <=1 ">
          <p style="font-size: larger; color: red;">Are You sure you want to exit the Group?</p>
      </div>

        <div class="modal-footer">
          <button *ngIf="Participants.length >=2" type="button" class="btn btn-primary" data-dismiss="modal" [disabled]="(NEXTADMIN == '' || NEXTADMIN== Username)" (click)="ExitGroup()">OK!</button>
          <button *ngIf="Participants.length <= 1" type="button" class="btn btn-primary" data-dismiss="modal" (click)="ExitGroupNonAdmin()">OK!</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal For Deleting Group when an admin-->
<div class="modal fade" id="DeleteGroupAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Delete Group? </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p style="font-size: larger; color: red;">Are You sure you wanted to delete the group? , All data will be lost</p>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="DeleteGroup()">Yes!</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal For Adding people to Group when an admin-->
  <div class="modal fade" id="AddPeopleToGroupAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Add People to Group? </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" *ngIf="GroupData != 'False'">
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">OK!</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal For Deleting people from Group when an admin-->
  <div class="modal fade" id="DeletePeopleFromGroupAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Delete People from Group? </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="height: 500px; overflow: hidden;">
            <div class="row">
                <div class="col">
                    <div class="example-container">
                        <h4 style="color: green;">Participants &nbsp;<i class="fa fa-users fa-lg" aria-hidden="true"></i></h4>
                      
                        <div
                          cdkDropList
                          #srcList="cdkDropList"
                          [cdkDropListData]="Participants"
                          [cdkDropListConnectedTo]="[destList]"
                          class="example-list"
                          (cdkDropListDropped)="drop($event)">
                          <div class="example-box" *ngFor="let item of Participants" cdkDrag [cdkDragDisabled]="item == Username" style="color: rgb(5, 71, 5);">{{item}}</div>
                        </div>
                      </div>
                </div>
                <div class="col">
                    <div class="example-container">
                        <h4 style="color: red;">Deleted &nbsp;<i class="fa fa-user-times fa-lg" aria-hidden="true"></i></h4>
                      
                        <div
                          cdkDropList
                          #destList="cdkDropList"
                          [cdkDropListData]="deletedParticipants"
                          [cdkDropListConnectedTo]="[srcList]"
                          class="example-list"
                          (cdkDropListDropped)="drop($event)">
                          <div class="example-box" *ngFor="let item of deletedParticipants" cdkDrag style="color: rgb(63, 11, 11);">{{item}}</div>
                        </div>
                      </div>
                </div>
            </div>
            
              

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="DeleteUsersFromGroup()" [disabled]="deletedParticipants.length == 0">OK!</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal For Making other people admin-->
  <div class="modal fade" id="MakeGroupAdmin" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle"> Change Admin of the group </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" *ngIf="Participants.length >=2 ">
          <div class="form-group row">
            <div class="col-sm-2">
              <label for="staticEmail" class="col-form-label">Members:</label>
            </div>
            <div class="col-sm-9">
              <select class="custom-select" id="Admin" required [(ngModel)]="NEXTADMIN" name="Adm" aria-describedby="basic-addon4">
                <option value="" disabled>Choose the Next Admin..</option>
                <option *ngFor="let Friend of Participants;" value="{{Friend}}">{{Friend}}</option>
             </select>
            </div>
          </div>
        </div>
        <div class="modal-body" *ngIf="Participants.length <=1 ">
            <p style="font-size: larger; color: red;">No one else in the Group!!</p>
        </div>
        <div class="modal-footer">
            <button *ngIf="Participants.length >=2" type="button" class="btn btn-primary" data-dismiss="modal" [disabled]="(NEXTADMIN == '' || NEXTADMIN== Username)" (click)="MakeOthersAdmin()">OK!</button>
            <button *ngIf="Participants.length <= 1" type="button" class="btn btn-primary" data-dismiss="modal">OK!</button>

          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>