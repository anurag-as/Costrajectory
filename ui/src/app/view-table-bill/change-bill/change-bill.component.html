<div class="container-fluid" *ngIf="uploading == 'not started'">
    <form #imageForm="ngForm" (ngSubmit)="uploadFileToActivity(imageForm)">
        <div class="row">
            <div [ngClass]="!(BillHasImage || imageUploaded) ? 'col-md-12' : 'col-md-6'">
                <div class="container-fluid">
                    <label>Bill name :</label>
                    <input id="name" #Bname required type="text" placeholder="Enter name" [(ngModel)]="BillName" name="name" class="form-control" value="test"/>

                    <label>Bill Amount:</label>
                    <input id="val" required type="number" placeholder="Enter amount" [(ngModel)]="BillAmount" name="val" class="form-control"/>

                    <label>Description:</label>
                    <input id="des" required type="test" placeholder="Enter Description" [(ngModel)]="BillDescription" name="des" class="form-control"/>
                    
                    <label>Category:</label>
                    <select class="custom-select" id="cat" required [(ngModel)]="BillCategory" name="cat">
                        <option value="" disabled>Choose the category</option>
                        <option>Travel</option>
                        <option>Shopping</option>
                        <option>Investments</option>
                        <option>Food</option>
                        <option>Utilities</option>
                        <option>Medical</option>
                        <option>Entertainment</option>
                        <option>Housing</option>
                        <option>Others</option>
                     </select>
                     
                    <label>Date: </label>
                    <input id="date" required type="date" value="10-02-1996" [(ngModel)]="BillDate" name="date" class="form-control"/>

                    <label>File:</label>
                    <input id="file-input" #Image type="file" acccept=".png, .jpg, .jpeg" (change)="handleFileInput($event.target.files)" class="form-control" placeholder="Upload Bill"/>
                    
                    <button type="submit" class="btn-large btn-submit" [disabled]="!imageForm.valid"><i class="material-icons">save</i></button>
                </div>
            </div>

            <div class="col-md-6">
                <div class="container-fluid">
                    <div class="container-fluid" *ngIf="(imageUploaded)">
                        <img [src]="imageSrc"  [alt]="ActualImageName" style="max-width: 90%; max-height: 90%; display: block;" >
                    </div>
                    <div class="container-fluid" *ngIf="(BillHasImage && !imageUploaded && (imageSrc !== undefined))">
                        <img [src]="'data:image/gif;base64,'+imageSrc"  [alt]="ActualImageName" style="max-width: 90%; max-height: 90%; display: block;" >
                    </div>
                    <div class="container-fluid" style="text-align: center;" *ngIf="(BillHasImage && !imageUploaded && (imageSrc === undefined))">
                        <div class="d-flex justify-content-center">
                            <div class="spinner-grow text-success" role="status"></div>
                            <p>&nbsp;&nbsp; <b>Loading Image!!  PLEASE WAIT </b></p>
                        </div>                    
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>

<!--<div class="col-md-6 offset-md-3"></div>-->
<div class="d-flex justify-content-center" *ngIf="uploading == 'started'">
    <div class="spinner-border" role="status">
    </div>
    <p>&nbsp;&nbsp; <b>UPLOADING!!  PLEASE WAIT </b></p>
</div>

<div class="alert alert-danger" role="alert" *ngIf="uploading == 'ended fail'">
    Something went wrong...try again later
</div>

<div class="alert alert-success" role="alert" *ngIf="uploading == 'ended success'">
    Image was uploaded successfully
</div>